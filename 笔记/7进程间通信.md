# [进程间的通信](./6进程与线程.md#217-进程间的通信方式)

## 信号
### 1. 概念
1. 信号是在**软件层**上对中断的一种模拟机制, **他是进程通信机制中唯一的异步通信机制**
2. 两个术语
    1. 生成: 信号的产生
    2. 捕捉: 信号的接收
3. 信号的生命周期
    - 产生信号 --> 发送信号给进程 --> 信号的处理与注销

### 2. 信号相关函数
#### 2.1 注册信号处理函数
- `sighandler_t signal(int signum, sighandler_t handler)`
    1. 参数说明

            @signum: 信号名
            @handler(处理): 他是一个函数指针, 也就是收到信号时要进程干的活 void handler(int signum), signum是它收到的信号值
    2. 常用的 SIGNUM
        1. SIGINT(signal interrupt): 中断(信号在用户执行 ctrl + c 时发出)
        2. [SIGALRM](#26-定时闹钟函数): 定时器到时时发送信号
        3. SIGCHLD: **子进程状态改变时, 父进程会收到信号, 常用于回收僵尸子进程** 
    3. 常用的信号的处理 handler
        1. SIG_IGN(signal ignore): 忽略发出的信号
        2. SIG_DEL: 采用系统默认的方式来处理信号
        3. handler函数(自定义函数让进程使用此函数)
#### 2.2 一般信号对僵尸态子进程的处理方法
1. 父进程采用`signal(SIGCHLD, hand_signal)`, 在收到子进程状态改变的信号时执行`hand_signal`, 在该函数中调用`waitpid`函数, 利用非阻塞的方式来释放他们的资源
#### 2.3 信号发送
- `int kill(pid, signum))`: 给指定进程发送信号值
#### 2.4 给当前进程自己发送信号值
- `int raise(int signum)`
#### 2.5 挂起进程
- `int pause(void)`: 挂起当前进程, 直到进程收到一个信号时才会继续执行
#### 2.6 定时闹钟函数
- `unsigned int alarm(unsigned int seconds)`
- **一个进程只能有一个闹钟事件, 若是多次使用 alarm函数, 则闹钟时间会被刷新**
